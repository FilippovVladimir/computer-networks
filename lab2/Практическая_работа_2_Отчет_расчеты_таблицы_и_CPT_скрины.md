# Практическая работа №2  
## Изучение принципов построения IP-сетей  
**Вариант 7**  
*(Отчёт без титульного листа, формат Markdown; расчёты и таблицы — в тексте. Скриншоты — только из Cisco Packet Tracer.)*

---

## Цель работы
Изучить принципы разбиения IP-сетей на подсети, выполнить построение структуры сети, настроить маршрутизаторы и ПК в Cisco Packet Tracer, реализовать статическую маршрутизацию и проверить связность сети.

---

## 1. Исходные данные (вариант 7)

**Маршрутизаторы:** M7, M5, M6  
**Исходные сети и требуемое количество подсетей:**
- **Сеть 6:** `10.1.16.0/20` → **4 подсети**
- **Сеть 8:** `169.254.0.0/16` → **4 подсети**
- **Сеть 9:** `62.16.0.0/12` → **3 подсети**

> В расчётах ниже применяется правило методички: «нулевую подсеть» не используем (subnet-zero исключается), поэтому подсети с сетевым адресом исходной сети в таблицы не включаются.

---

## 2. Разбиение сетей на подсети

### 2.1 Сеть 6: `10.1.16.0/20` → 4 подсети

Требуется 4 подсети. Минимально нужно 2 бита (2²=4), но по правилу методички берём **n+1** бит → **3 бита** под подсети.

- Было: `/20`
- Стало: `/23`
- Маска: **255.255.254.0**
- Размер подсети: 2^(32−23)=512 адресов, **510 хостов**
- Шаг по сетям для `/23`: **2** в третьем октете (…16, 18, 20, 22, 24, …)
- Нулевая подсеть `10.1.16.0/23` исключается

Используемые 4 подсети:
- `10.1.18.0/23`
- `10.1.20.0/23`
- `10.1.22.0/23`
- `10.1.24.0/23`

---

### 2.2 Сеть 8: `169.254.0.0/16` → 4 подсети

По правилу методички: 2 бита → **n+1 = 3 бита**.

- Было: `/16`
- Стало: `/19`
- Маска: **255.255.224.0**
- Размер подсети: 2^(32−19)=8192 адреса, **8190 хостов**
- Шаг для `/19`: **32** в третьем октете (…0, 32, 64, 96, 128, …)
- Нулевая подсеть `169.254.0.0/19` исключается

Используемые 4 подсети:
- `169.254.32.0/19`
- `169.254.64.0/19`
- `169.254.96.0/19`
- `169.254.128.0/19`

---

### 2.3 Сеть 9: `62.16.0.0/12` → 3 подсети

Требуется 3 подсети. Минимально: 2²=4 подсети → **2 бита** под подсети.

- Было: `/12`
- Стало: `/14`
- Маска: **255.252.0.0**
- Размер подсети: 2^(32−14)=262144 адреса, **262142 хоста**
- Шаг для `/14`: **4** во втором октете (…16, 20, 24, 28, …)
- Нулевая подсеть `62.16.0.0/14` исключается

Используемые 3 подсети:
- `62.20.0.0/14`
- `62.24.0.0/14`
- `62.28.0.0/14`

---

## 3. Таблицы подсетей (адрес сети, маска, диапазоны, broadcast)

Обозначения:
- **Network** — адрес сети
- **First host** — первый адрес узла
- **Last host** — последний адрес узла
- **Broadcast** — широковещательный адрес
- **Hosts** — максимум хостов в подсети

### 3.1 Подсети сети 6 (маска /23 = 255.255.254.0)

| Подсеть | Network/Prefix | Mask | First host | Last host | Broadcast | Hosts |
|---:|---|---|---|---|---|---:|
| 6.1 | 10.1.18.0/23 | 255.255.254.0 | 10.1.18.1 | 10.1.19.254 | 10.1.19.255 | 510 |
| 6.2 | 10.1.20.0/23 | 255.255.254.0 | 10.1.20.1 | 10.1.21.254 | 10.1.21.255 | 510 |
| 6.3 | 10.1.22.0/23 | 255.255.254.0 | 10.1.22.1 | 10.1.23.254 | 10.1.23.255 | 510 |
| 6.4 | 10.1.24.0/23 | 255.255.254.0 | 10.1.24.1 | 10.1.25.254 | 10.1.25.255 | 510 |

### 3.2 Подсети сети 8 (маска /19 = 255.255.224.0)

| Подсеть | Network/Prefix | Mask | First host | Last host | Broadcast | Hosts |
|---:|---|---|---|---|---|---:|
| 8.1 | 169.254.32.0/19 | 255.255.224.0 | 169.254.32.1 | 169.254.63.254 | 169.254.63.255 | 8190 |
| 8.2 | 169.254.64.0/19 | 255.255.224.0 | 169.254.64.1 | 169.254.95.254 | 169.254.95.255 | 8190 |
| 8.3 | 169.254.96.0/19 | 255.255.224.0 | 169.254.96.1 | 169.254.127.254 | 169.254.127.255 | 8190 |
| 8.4 | 169.254.128.0/19 | 255.255.224.0 | 169.254.128.1 | 169.254.159.254 | 169.254.159.255 | 8190 |

### 3.3 Подсети сети 9 (маска /14 = 255.252.0.0)

| Подсеть | Network/Prefix | Mask | First host | Last host | Broadcast | Hosts |
|---:|---|---|---|---|---|---:|
| 9.1 | 62.20.0.0/14 | 255.252.0.0 | 62.20.0.1 | 62.23.255.254 | 62.23.255.255 | 262142 |
| 9.2 | 62.24.0.0/14 | 255.252.0.0 | 62.24.0.1 | 62.27.255.254 | 62.27.255.255 | 262142 |
| 9.3 | 62.28.0.0/14 | 255.252.0.0 | 62.28.0.1 | 62.31.255.254 | 62.31.255.255 | 262142 |

---

## 4. Межмаршрутизаторные (транзитные) сети

| Линк | Сеть | Prefix | Mask | Назначение |
|---|---|---:|---|---|
| M7—M5 | 9.8.0.0 | /16 | 255.255.0.0 | связь M7 ↔ M5 |
| M5—M6 | 9.9.0.0 | /16 | 255.255.0.0 | связь M5 ↔ M6 |

---

## 5. Таблица IP-адресов интерфейсов маршрутизаторов

### 5.1 Маршрутизатор M7

| Интерфейс | Назначение | IP | Mask |
|---|---|---|---|
| FE0/0 | LAN 6.1 | 10.1.18.1 | 255.255.254.0 |
| FE0/1 | LAN 6.2 | 10.1.20.1 | 255.255.254.0 |
| FE1/0 | LAN 6.3 | 10.1.22.1 | 255.255.254.0 |
| FE1/1 | LAN 6.4 | 10.1.24.1 | 255.255.254.0 |
| FE2/0 | к M5 | 9.8.0.254 | 255.255.0.0 |

### 5.2 Маршрутизатор M5

| Интерфейс | Назначение | IP | Mask |
|---|---|---|---|
| FE0/0 | LAN 8.1 | 169.254.32.1 | 255.255.224.0 |
| FE0/1 | LAN 8.2 | 169.254.64.1 | 255.255.224.0 |
| FE1/0 | LAN 8.3 | 169.254.96.1 | 255.255.224.0 |
| FE1/1 | LAN 8.4 | 169.254.128.1 | 255.255.224.0 |
| FE2/0 | к M7 | 9.8.0.253 | 255.255.0.0 |
| FE2/1 | к M6 | 9.9.0.254 | 255.255.0.0 |

### 5.3 Маршрутизатор M6

| Интерфейс | Назначение | IP | Mask |
|---|---|---|---|
| FE0/0 | LAN 9.1 | 62.20.0.1 | 255.252.0.0 |
| FE0/1 | LAN 9.2 | 62.24.0.1 | 255.252.0.0 |
| FE1/0 | LAN 9.3 | 62.28.0.1 | 255.252.0.0 |
| FE2/0 | к M5 | 9.9.0.253 | 255.255.0.0 |

---

## 6. Адресация ПК (пример)

Правило:
- IP = второй адрес в подсети (…`.2`)
- Gateway = адрес интерфейса роутера (…`.1`)

Примеры:
- `10.1.18.2 / 255.255.254.0 / GW 10.1.18.1`
- `169.254.32.2 / 255.255.224.0 / GW 169.254.32.1`
- `62.20.0.2 / 255.252.0.0 / GW 62.20.0.1`

---

## 7. Реализация в Cisco Packet Tracer (практическая часть)

### 7.1 Топология
В Packet Tracer создана топология (3 роутера, коммутаторы и ПК в каждой подсети).

![Топология в Cisco Packet Tracer](06_topology.png)

### 7.2 Настройка интерфейсов маршрутизаторов
На интерфейсах задан IP-адрес и выполнена команда `no shutdown`.

![Настройка интерфейсов (CLI)](08_router_config_cli.png)

Проверка состояния интерфейсов:
```cisco
show ip interface brief
```

![show ip interface brief](09_show_ip_int_brief.png)

### 7.3 Настройка IP на ПК
На ПК настроены IP-адрес, маска и шлюз.

![IP Configuration на ПК](10_pc_ip_config.png)

### 7.4 Статическая маршрутизация (агрегированно)

#### Маршруты на M7
```cisco
conf t
ip route 169.254.0.0 255.255.0.0 9.8.0.253
ip route 62.16.0.0 255.240.0.0 9.8.0.253
ip route 9.9.0.0 255.255.0.0 9.8.0.253
end
wr
```

#### Маршруты на M5
```cisco
conf t
ip route 10.1.16.0 255.255.240.0 9.8.0.254
ip route 62.16.0.0 255.240.0.0 9.9.0.253
end
wr
```

#### Маршруты на M6
```cisco
conf t
ip route 10.1.16.0 255.255.240.0 9.9.0.254
ip route 169.254.0.0 255.255.0.0 9.9.0.254
ip route 9.8.0.0 255.255.0.0 9.9.0.254
end
wr
```

![Настройка статических маршрутов (CLI)](11_static_routes_cli.png)

Проверка таблицы маршрутизации:
```cisco
show ip route
```

![show ip route](12_show_ip_route.png)

### 7.5 Проверка работоспособности
Проверка связности выполнена командой `ping` между узлами разных подсетей.

![Успешный ping](13_ping_success.png)

Проверка маршрута (tracert) до узла другой подсети:

![tracert](14_tracert.png)

---

## Вывод
В ходе работы выполнено разбиение исходных сетей на подсети по варианту 7 (с исключением “нулевых” подсетей), составлены таблицы параметров подсетей и адресации интерфейсов. В Cisco Packet Tracer построена топология, настроены маршрутизаторы и ПК, добавлены агрегированные статические маршруты и подтверждена связность сети.
